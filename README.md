# Building a Song Recommendation and Analyzer System

## CONTENTS OF THIS FILE

- [Introduction](#introduction)
- [Project Goals](#project_goals)
- [Requirement](#requirement)
- [Challenges](#challenges)
- [Audience](#audience)
- [Outcomes](#outcome)
- [Distribution Plans](#distro)

<a name="introduction"/>

## Introduction

### Team Members

1. [Ambrose Karella](https://github.com/ajkarella) - As a graduate in game design, I have a good amount of programming experience in games, but data science has been a new frontier. With my transition into the MSDS program, I intend on becoming a well rounded programmer and analyst. My outcome of this project is to improve on our methods we used last project, and work with new tools to create an interesting product.
    - Responsible for
        - Server creation
        - Track and title collection
        - Data analysis
        - Song recommender system

2. [Janam Patel](https://github.com/janampatel15) - I've graduated with a Bachelors in Computer Science, so I have experience in coding for C++ and Python. I’ve interned at a startup where I held the role of Sales and Data Operations Intern, where I learned a lot about data management and cleaning.  I’m looking to strengthen my coding skills in python and also learn about data management and visualization on a deeper level.
    - Responsible for
        - Data collection
        - Compiling data sources
        - Data cleanup
        - EDA

3. Mariachiara Acconcia - I've graduated from the Sapienza University of Rome with a Bachelor in Management Engineering, therefore my undergraduate studies included a fair amount of calculus, statistics, probability, and optimization work. With this course and the rest of the program, I hope to be able to improve my python coding skills and to learn more about data analysis methods combining it with my mathematical background. 
    - Responsible for
        - Data cleanup
        - Compiling data sources
        - EDA
        - Songs classification


### The Data

1. Spotify Datasets from Kaggle's website that shows 19 audio features of 170k+ songs released between 1921 and 2021, collected from Spotify Web API. The data is mostly numerical (or converted to numerical) and categorical, collected in a csv file where each row represents a single track and each column is associated with one audio feature

2. The current state of the data is good but we want to modify it and possibly add more to it. The 19 columns/attributes range from numerical data, such as popularity, song id, and danceability, to categorical features such as name, keys on octave used in each song, and release date.

3. We utilized the [Spotify API](https://developer.spotify.com/documentation/web-api/reference#endpoint-get-several-audio-features) to get newer and more accurate data, and [Soundiiz](https://soundiiz.com/) to collect hard to find songs that wouldn't show up querying the API. Other sources included music label companies like Warner Music Group.

4. To help collect more data, we thought it'd be smart to collect new song playlists. 

5. We also got a list of Top 100 Billboards songs from the years 1990 to 2020. 

    #### Data Description
    Some of the dataset's features don't need further explanation, such as artists, name, and year.
    These are the other numerical/categorical features briefly explained:
    
    - id - It's the track id (Also known as [URI](https://en.wikipedia.org/wiki/Uniform_Resource_Identifier)) generated by Spotify itself
    
    - acousticness - It's the confidence measure of whether the track is acoustic or not and it ranges from 0 to 1.
    
    - danceability - Describes how suitable a track is for dancing based on several musical elements and ranges from 0 to 1.

    - energy - Represents the perception of intensity and activity that someone has while listening to a song. The features that contribute to this perception include dynamic range, loudness, and onset rate. It ranges from 0 to 1.

    - duration_ms - The duration of a track in milliseconds. Spotify is giving output in ms, but it's better to convert to minutes to analyze it better.

    - instrumentalness - Detects whether a track contains spoken words or not. It ranges from 0(only vocal content) to 1(no vocal content).

    - valence - The musical positiveness conveyed by a track and it ranges from 0 to 1 as well.

    - popularity - A calculation based on the total number of plays a specific track has had so far and how recent those plays are. The range goes from 0 to 100.

    - tempo - The estimated pace of a track in beats per minute (BPM).

    - liveness - The presence of an audience during the song's recording.

    - loudness - The average loudness value across the entire track in decibels (dB). Values typically range between -60 and 0 dB.

    - speechiness - The presence of spoken words in a track and ranges from 0 to 1.

    - key - The key on octave encoded as a value ranging from 0 to 11, starting on C as 0, C#/Db as 1, D as 2, and so on.

<hr>

<a name="project_goals"/>

## Project Goals

1. Create an ability to be able to recommend songs based on personal preference, see the popularity of the genre, and also be able to predict which song will be trending and for how long.


2. Investigate historical trends of genres and their associated valence

    - It may be interesting to see if there are any moments in history that line up with the popularity of sad or happy songs. 
        - This may have to be combined with another popularity measure

    - We chose to study historical trends because we think that our analysis will be able to provide more insight into songs and different genres for different years which can be beneficial for music producers, or even anthropologists who can use this data to tell us something about the culture and time about the prior music industry.

3. Discover the popularity of attributes of songs.
    - Evaluate the mix of acousticness, danceability, energy, valence, etc. to see if these values have any correlation to popularity.

4. Identify the top 10 artists

5. How long will it take to listen to songs that we have in data?

<hr>

<a name="requirement"/>

## Requirement

1. The data is already formatted in a very accessible way.
    - While some cleaning is necessary, it is very workable in its current state.

2. Expanding dataset.
    - Since most of the data contained within this set, it will be easy to pull more tracks from Spotify and create a more robust set.
    - Using individual songs as IDs, we could add to the set from external sources other than Spotify

3. [Spotify API](https://developer.spotify.com/documentation/web-api/reference#endpoint-get-several-audio-features).
    - Although they are machine-generated and likely not completely accurate, being able to compare songs beyond standard items like genre, artist, and song length will provide great insights. 

4. [Soundiiz](https://soundiiz.com/)
    - To help search for songs for Top 100 Billboards

5. Database server for our songs
    - Since we had a large quantity of data, we thought it'd be smart to store it in an SQL database and then read and write data from the server. Doing it from csv, JSON or pickled data would've been space and time consuming, and also it'll be harder to share or distribute data in real time. 

<hr>

<a name="challenges"/>

## Challenges

The original [Kaggle Dataset](https://www.kaggle.com/yamaerenay/spotify-dataset-19212020-160k-tracks/notebooks) had approximately 170K songs which is a good number to work with and analyze. But upon further exploration, we realized that a lot of songs were intro of albums so they'd be shorter than 30 seconds in length, some of them were literal silence for an intro to an album, some were voicemails, some songs didn't have the song, artist and album name or were just exclamation (!), but oddly enough they had normal song features just like other songs. 

This made us realize that we don't know how much of that 170K song list is good data, and decided to collect more data. We went on to gather more than 615 playlists, which brought our song count to 370K. Which is twice as much as the Kaggle dataset. Of course, there were some duplicate song ids, and songs/tracks that were the intro to an album that was shorter than 30 seconds in length, but that's for us to fix during cleaning and our EDA (Exploratory data analysis).

<hr>

<a name="audience"/>

## Audience

1. Audiences can range from music fans, music producers, to researchers who would like to look into which type of songs are currently popular and trending.

2. Streaming services may also take interest in the results.
    - Tailoring the mood of ads based on the popularity of the song and how upbeat it is. 
    - Improving song recommendations based on user's interests in certain songs.
    - Generating interesting playlists on new attributes that go beyond genre and artist.

<hr>

<a name="outcome"/>

## Outcome

- Out of 343875, we had 343011 titles that were good data that we can work with. The rest of the data wasn’t good enough to work with.
    - After removing NaN's, no song names cells, songs shorter than 30 seconds, and duplicate (by song id's), we still have 99.7% of data that is good to be analyzed and only 0.3% that was bad data. (Ah-may-zing)

- The Final Data’s 20 attributes are
    - ids, name, album, artist, length, popularity, danceability, acousticness, energy, instrumentalness, liveness, loudness, speechiness, tempo, time_signature, keys, valence, release_Year, release_Month, and release_Date

<hr>

<a name="distro"/>

## Distribution Plan

Our completed project is now hosted on Github here.
